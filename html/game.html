<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta content="width=device-width" name="viewport">
	<title>repl.it</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.16/p5.js">
	</script>
  <script src="https://uagse.000webhostapp.com/p5-play-sample-game/lib/p5.play.js" type="text/javascript">
	</script> 
<link href="circles.css" rel="stylesheet"><!-- jQuery Linked Below-->
  </head>

<body>
	<h1>
    Catch the Circles 
  </h1> 
	<p>
    Move the boat to collect the circles
  </p>
	<script>
    function randomNumber(start, end) {
	return Math.floor(random(start, end));
}

    var imageSprite 
    var direction = 90;
    var circles=[];
	   function setup() {
	   createCanvas(800, 600);
	   var drawSprites;
	   setInterval(createCircle, 300);
	   var img = loadImage("garbage.jpg");
	imageSprite = createSprite(300, 450);
	 imageSprite.addImage(img);
       imageSprite.scale=.5;
	   
	}

	function createCircle() {
	   var circle = createSprite(randomNumber(0, 750), randomNumber(0, 150), 100, 50);
	   direction += 90;
	   circle.setSpeed(1.5, direction);
	   circle.draw = function() {
	       fill(this.shapeColor);
	       ellipse(0, 0, 60, 60);
	   };
	   circle.velocity.y = 5;
    circles.push(circle);
	}

	function draw() {
	   background(255, 255, 255);
	   if(keyWentDown(RIGHT))
	{
	   imageSprite.setSpeed(3,0);
	}
	

    if(keyWentDown(LEFT))
	{
	   imageSprite.setSpeed(3,0);
	}
	  
    
    if(keyWentUp(LEFT)||keyWentUp(RIGHT))
    {
      imageSprite.setSpeed(0,0)
    }
  for(i=0;i<circles.length;i++){
    if(circles [i].collide(imageSprite)){
      circles[i].visible=false;
    }
  }
    
    drawSprites();
	}
    

    
    
	       
	</script>
</body>
</html>